# training-workshop-performance

## TODO

- [ ] Big tailwind file

- [ ] Product list with big images

- [ ] Menu (with react router)
  - Home
  - Products
  - Markdown
  - BigDate
  - Calculator
  - User List

- [ ] Create a home page with a big image. The bad practice is to use a very large image and to not optimize it.

Optimize the image(s) and use the `srcset` attribute to display the right image size depending on the screen size. See https://html.com/attributes/img-srcset/
  
- [ ] Create the Bit Date page where you display the current time in a big font. The bad practice is to use [moment.](https://momentjs.com/) which is a very large library.

```
import moment from 'moment';
const formattedDate = moment().format('MMMM Do YYYY, h:mm:ss a');
```

Optimize by using [date-fns](https://date-fns.org/)

- [ ] Create a calculator page where you can do some calculations with high precision (number after the comma). The bad practice is to use https://lodash.com/ the wrong way.
Create a small form with two inputs and a button. When you click on the button, the result of the addition of the two numbers should be displayed.

```
import _ from 'lodash';

const a = 1.00002;
const b = 0.000032;
const result = _.add(a, b);
```

Optimize by using lodash correctly

```
import add from 'lodash/add';
```

- [ ] Create a page to display a markdown that you download via an API (via JSON) from the server. And to be safe you should sanitize the html. Use a large markdown sample.

```
import markdownIt from 'markdown-it'
import * as sanitizeHtml from 'sanitize-html';
const md = markdownIt()

// get this from the server
const markdownText = '# markdown-it rulezz!';

// convert to html
const htmlText = md.render(markdownText);
const result = sanitizeHtml(htmlText);

// display the result
return (
  <div dangerouslySetInnerHTML={{ __html: result }} />
);
```

The bad practice is to use `markdown-it` & `sanitize-html` which are very large libraries.

Optimize by using `safe-marked` which is much smaller and sanitize by default.

- [ ] Create a page to display a list of users. Load more the 2000 user (generated by faker) and display them in a table. The bad practice is to load all the users at once. The users must be loaded by an api. Use https://xsgames.co/randomusers/assets/avatars/male/52.jpg for the user image.

Optimize by using a pagination system (simple nextPage/prePage button). You should load 20 users at a time and display a button to load more users. Use react-query to cache the data. Change the API to load the data from the server in pages.

You can optimize the image by using lazy loading. Image will only be loaded when they are in the viewport.

```
<img loading="lazy" src="image.jpg" />
```

## Tips

Base64 image url

```
<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAALQAAAC0CAYAAAA9zQYyAAAABGdBTUEAALGPC/xhBQAAAAlwSFlzA..." />
```
- image optimize in size and quality 
  
https://squoosh.app/


